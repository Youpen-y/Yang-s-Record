`PTMalloc` - （Posix Thread aware malloc）

内存分配方式：
- 利用进程堆栈（函数堆栈）来分配局部变量（缺点：无法在运行时动态更改分配的大小；函数返回并恢复前一个堆栈帧时，驻留在调用堆栈上的本地内存将被释放）
- `mmap` 映射整个内存页面供进程使用（缺点：无法有效地分配小于一页大小的内存块）
- 堆（heap）是另一种有效地将动态内存分配给进程的方法。即在运行时，进程可以请求分配和返回指定内存块；当进程不再需要此内存块时，可以释放它，允许重用。

分配内存较小时：进程堆的内存区域通过 `brk()` 和 `sbrk()` 系统调用分配 ，这两个系统调用更改了 `program break` 的位置，`program break` 用于定义进程数据段的结束，通过增加它分配内存，减少它则释放内存。

如果系统启用了 `ASLR`  [[KASLR]] ，则进程中的数据段将随机放置在虚拟地址空间中，这允许对堆的基址进行有效的随机化。 

分配内存较大时，malloc 实际上会使用 `mmap`



